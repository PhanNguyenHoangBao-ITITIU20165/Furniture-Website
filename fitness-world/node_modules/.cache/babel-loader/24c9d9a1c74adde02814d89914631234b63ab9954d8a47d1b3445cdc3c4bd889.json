{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nconst initialState = {\n  items: [],\n  totalPrice: 0\n};\nconst totalPriceUpdating = items => {\n  return items.reduce((total, item) => {\n    return total + item.price * item.quantity;\n  }, 0);\n};\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    resetCartItems: state => {\n      state.items = [];\n      state.totalPrice = 0;\n    },\n    addItem: (state, action) => {\n      const newItem = action.payload;\n      const existingItem = state.items.find(item => item.id === newItem.id);\n      if (existingItem) {\n        existingItem.quantity += 1;\n      } else {\n        state.items.push({\n          ...newItem,\n          quantity: 1\n        });\n      }\n      state.totalPrice = totalPriceUpdating(state.items);\n    },\n    removeItem: (state, action) => {\n      const productId = action.payload;\n      state.items = state.items.filter(item => item.id !== productId);\n      state.totalPrice = totalPriceUpdating(state.items);\n    },\n    updateItemQuantity: (state, action) => {\n      const {\n        product,\n        quantity\n      } = action.payload;\n      const itemToUpdate = state.items.find(item => item.id === product.id);\n      if (itemToUpdate) {\n        itemToUpdate.quantity += quantity;\n      } else {\n        state.items.push({\n          ...product,\n          quantity: quantity\n        });\n      }\n    },\n    increaseItemQuantity: (state, action) => {\n      const productId = action.payload;\n      const itemIncrease = state.items.find(item => item.id === productId);\n      if (itemIncrease) {\n        itemIncrease.quantity += 1;\n      }\n      state.totalPrice = totalPriceUpdating(state.items);\n    },\n    decreaseItemQuantity: (state, action) => {\n      const productId = action.payload;\n      const itemDecrease = state.items.find(item => item.id === productId);\n      if (itemDecrease && itemDecrease.quantity > 1) {\n        itemDecrease.quantity -= 1;\n      } else if (itemDecrease && itemDecrease.quantity === 1) {\n        state.items = state.items.filter(item => item.id !== productId);\n      }\n      state.totalPrice = totalPriceUpdating(state.items);\n    }\n  }\n});\nexport const {\n  resetCartItems,\n  addItem,\n  removeItem,\n  increaseItemQuantity,\n  decreaseItemQuantity,\n  updateItemQuantity\n} = cartSlice.actions;","map":{"version":3,"names":["createSlice","initialState","items","totalPrice","totalPriceUpdating","reduce","total","item","price","quantity","cartSlice","name","reducers","resetCartItems","state","addItem","action","newItem","payload","existingItem","find","id","push","removeItem","productId","filter","updateItemQuantity","product","itemToUpdate","increaseItemQuantity","itemIncrease","decreaseItemQuantity","itemDecrease","actions"],"sources":["D:/Furniture-Website/furniture-world/src/redux/userApi/cart/cartSlice.ts"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport { IProduct } from 'src/redux/products/productsSlice';\r\n\r\n\r\n\r\nexport interface ICartItems {\r\n    items: IProduct[];\r\n    totalPrice: number;\r\n}\r\n\r\nconst initialState: ICartItems = { items: [], totalPrice: 0 };\r\n\r\nconst totalPriceUpdating = (items: IProduct[]) => {\r\n    return items.reduce((total, item) => {\r\n        return total + item.price * item.quantity;\r\n    }, 0);\r\n};\r\n\r\nexport const cartSlice = createSlice({\r\n    name: 'cart',\r\n    initialState,\r\n    reducers: {\r\n        resetCartItems: (state) => {\r\n            state.items = [];\r\n            state.totalPrice = 0;\r\n        },\r\n        addItem: (state, action) => {\r\n            const newItem = action.payload;\r\n            const existingItem = state.items.find((item) => item.id === newItem.id);\r\n            if (existingItem) {\r\n                existingItem.quantity += 1;\r\n            } else {\r\n                state.items.push({ ...newItem, quantity: 1 });\r\n            }\r\n            state.totalPrice = totalPriceUpdating(state.items);\r\n        },\r\n        removeItem: (state, action) => {\r\n            const productId = action.payload;\r\n            state.items = state.items.filter((item) => item.id !== productId);\r\n            state.totalPrice = totalPriceUpdating(state.items);\r\n        },\r\n        updateItemQuantity: (state, action) => {\r\n            const { product, quantity } = action.payload;\r\n            const itemToUpdate = state.items.find((item) => item.id === product.id);\r\n            if (itemToUpdate) {\r\n                itemToUpdate.quantity += quantity;\r\n            } else {\r\n                state.items.push({ ...product, quantity: quantity });\r\n            }\r\n        },\r\n        increaseItemQuantity: (state, action) => {\r\n            const productId = action.payload;\r\n            const itemIncrease = state.items.find((item) => item.id === productId);\r\n\r\n            if (itemIncrease) {\r\n                itemIncrease.quantity += 1;\r\n            }\r\n            state.totalPrice = totalPriceUpdating(state.items);\r\n        },\r\n        decreaseItemQuantity: (state, action) => {\r\n            const productId = action.payload;\r\n            const itemDecrease = state.items.find((item) => item.id === productId);\r\n            if (itemDecrease && itemDecrease.quantity > 1) {\r\n                itemDecrease.quantity -= 1;\r\n            } else if (itemDecrease && itemDecrease.quantity === 1) {\r\n                state.items = state.items.filter((item) => item.id !== productId);\r\n            }\r\n            state.totalPrice = totalPriceUpdating(state.items);\r\n        },\r\n    },\r\n});\r\n\r\nexport const { resetCartItems, addItem, removeItem, increaseItemQuantity, decreaseItemQuantity, updateItemQuantity } =\r\n    cartSlice.actions;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}